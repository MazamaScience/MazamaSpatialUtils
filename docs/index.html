<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spatial Data Download and Utility Functions • MazamaSpatialUtils</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Spatial Data Download and Utility Functions">
<meta property="og:description" content="A suite of conversion functions to create internally standardized
    spatial polygons data frames. Utility functions use these data sets to
    return values such as country, state, time zone, watershed, etc. associated
    with a set of longitude/latitude pairs. (They also make cool maps.)">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">MazamaSpatialUtils</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/MazamaSpatialUtils.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Developer_Style_Guide.html">Developer Style Guide</a>
    </li>
    <li>
      <a href="articles/available-data.html">Available Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MazamaScience/MazamaSpatialUtils/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<p>A dedicated Slack channel has been created for announcements, support and to help build a community of practice around this open source package. You may request an invitation to join from <a href="mailto:jonathan.callahan@dri.com" class="email">jonathan.callahan@dri.com</a>.</p>
<div class="section level1">
<div class="page-header"><h1 id="mazamaspatialutils">MazamaSpatialUtils<a class="anchor" aria-label="anchor" href="#mazamaspatialutils"></a>
</h1></div>
<pre><code>A suite of conversion functions to create internally standardized
spatial polygons data frames. Utility functions use these data sets to
return values such as country, state, time zone, watershed, etc. associated
with a set of longitude/latitude pairs. (They also make cool maps.)</code></pre>
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>The <strong>MazamaSpatialUtils</strong> package was created to regularize work with spatial data. Many sources of shapefile data are available and can be used to make beautiful maps in R. Unfortunately, the data attached to these datasets, even when fairly complete, often lacks standardized identifiers such as the ISO 3166-1 alpha-2 encodings for countries. Maddeningly, even when these ISO codes are used, the dataframe column in which they are stored does not have a standardized name. It may be called “ISO” or “ISO2” or “alpha” or “COUNTRY” or any of a dozen other names we have seen.</p>
<p>While many mapping packages provide <em>“natural”</em> naming of countries, those who wish to develop operational, GIS-like systems need something that is both standardized and language-independent. The ISO 3166-1 alpha-2 encodings have emerged as the <em>de facto</em> standard for this sort of work. In similar fashion, ISO 3166-2 alpha-2 encodings are available for the next administrative level down – state/province/oblast, <em>etc.</em> For time zones, the <em>de facto</em> standard is the set of Olson time zones used in all UNIX systems.</p>
<p>The main goal of this package is to create an internally standardized set of spatial data that can be used in various projects. Along with three built-in datasets, this package provides <code>convert~()</code> functions for other spatial datasets of interest. These convert functions all follow the same recipe:</p>
<ul>
<li>download spatial data into a standard directory</li>
<li>convert spatial data into a <strong>sf</strong> simple features data frame</li>
<li>modify the dataframe so that it adheres to package internal standards</li>
</ul>
<p>Other datasets can be added following the same procedure.</p>
<p>The ‘package internal standards’ are very simple.</p>
<ol style="list-style-type: decimal">
<li>Every spatial dataset <strong>must</strong> contain the following columns:</li>
</ol>
<ul>
<li>polygonID – unique identifier for each polygon</li>
<li>countryCode – country at centroid of polygon (ISO 3166-1 alpha-2)</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Spatial datasets with time zone data <strong>must</strong> contain the following column:</li>
</ol>
<ul>
<li>timezone – Olson timezone</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Spatial datasets at scales smaller than the nation-state <strong>should</strong> contain the following column:</li>
</ol>
<ul>
<li>stateCode – ‘state’ at centroid of polygon (ISO 3166-2 alpha-2)</li>
</ul>
<p>If other columns contain these data, those columns must be renamed or duplicated with the internally standardized name. This simple level of consistency makes it possible to generate maps for any data that is ISO encoded. It also makes it possible to create functions that return the country, state or time zone associated with a set of locations.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>This package is designed to be used with <a href="https://cran.r-project.org" class="external-link">R</a> (&gt;= 4.0) and <a href="https://posit.co/" class="external-link">RStudio</a> so make sure you have those installed first.</p>
<p>Installation from CRAN is standard:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"MazamaSpatialUtils"</span><span class="op">)</span></span></code></pre>
<p>Or you can use the <strong>devtools</strong> package to install the latest version from GitHub:</p>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'mazamascience/MazamaSpatialUtils'</span>, build_vignettes<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="spatial-datasets">Spatial Datasets<a class="anchor" aria-label="anchor" href="#spatial-datasets"></a>
</h2>
<div class="section level3">
<h3 id="package-datasets">Package Datasets<a class="anchor" aria-label="anchor" href="#package-datasets"></a>
</h3>
<p>The package comes with the following simplified spatial spatial datasets:</p>
<pre><code> * 367K data/SimpleCountries.rda
 * 1.3M data/SimpleCountriesEEZ.rda
 * 1.4M data/SimpleTimezones.rda</code></pre>
<p>These datasets allow you to work with low-resolution country outlines and time zones.</p>
</div>
<div class="section level3">
<h3 id="additional-datasets">Additional Datasets<a class="anchor" aria-label="anchor" href="#additional-datasets"></a>
</h3>
<p>Additional datasets are available at <a href="http://data.mazamascience.com/MazamaSpatialUtils/Spatial_0.8/" class="external-link uri">http://data.mazamascience.com/MazamaSpatialUtils/Spatial_0.8/</a> and can be loaded with the following commands:</p>
<pre><code><span><span class="co"># Create a location where spatial datasets will be stored</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="st">'~/Data/Spatial_0.8'</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Tell the package about this location</span></span>
<span><span class="fu"><a href="reference/setSpatialDataDir.html">setSpatialDataDir</a></span><span class="op">(</span><span class="st">'~/Data/Spatial_0.8'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install spatial datasets by name</span></span>
<span><span class="fu"><a href="reference/installSpatialData.html">installSpatialData</a></span><span class="op">(</span><span class="st">"EPARegions"</span><span class="op">)</span></span></code></pre>
<p>You can review your currently install<strong>ed</strong> datasets by running:</p>
<pre><code><span><span class="fu"><a href="reference/installedSpatialData.html">installedSpatialData</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>Further details about each dataset are provided in the source code of the associated <code>convert~()</code> function. Datasets appearing with, <em>e.g.</em>, <code>_05</code> are simplified datasets whose polygons retain only 5% of the vertices in the full resolution dataset.</p>
</div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="demos">Demos<a class="anchor" aria-label="anchor" href="#demos"></a>
</h3>
<p>There are three demos associated with the package:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/demo.html" class="external-link">demo</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">'MazamaSpatialUtils'</span><span class="op">)</span></span></code></pre>
<hr>
<p>Development of this R package has been supported with funding from the following institutions:</p>
<ul>
<li>USFS <a href="https://www.airfire.org" class="external-link">AirFire Research Team</a>
</li>
</ul>
<p>Questions regarding further development of the package or inclusion of additional datasets should be directed to <a href="mailto:jonathan.callahan@dri.edu" class="email">jonathan.callahan@dri.edu</a>.</p>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=MazamaSpatialUtils" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/MazamaScience/MazamaSpatialUtils/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/MazamaScience/MazamaSpatialUtils/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing MazamaSpatialUtils</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jonathan Callahan <br><small class="roles"> Author, maintainer </small>  </li>
<li>Rachel Carroll <br><small class="roles"> Author </small>  </li>
<li>Eli Grosman <br><small class="roles"> Author </small>  </li>
<li>Roger Andre <br><small class="roles"> Author </small>  </li>
<li>Tom Bergamaschi <br><small class="roles"> Author </small>  </li>
<li>Tina Chen <br><small class="roles"> Author </small>  </li>
<li>Ruby Fore <br><small class="roles"> Author </small>  </li>
<li>Will Leahy <br><small class="roles"> Author </small>  </li>
<li>Helen Miller <br><small class="roles"> Author </small>  </li>
<li>Henry Nguyen <br><small class="roles"> Author </small>  </li>
<li>Robin Winstanley <br><small class="roles"> Author </small>  </li>
<li>Alice Yang <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=MazamaSpatialUtils" class="external-link"><img src="http://www.r-pkg.org/badges/version/MazamaSpatialUtils" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://cran.r-project.org/package=MazamaSpatialUtils" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/MazamaSpatialUtils" alt="Downloads"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/46367920" class="external-link"><img src="https://zenodo.org/badge/46367920.svg" alt="DOI"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Jonathan Callahan, Rachel Carroll, Eli Grosman, Roger Andre, Tom Bergamaschi, Tina Chen, Ruby Fore, Will Leahy, Helen Miller, Henry Nguyen, Robin Winstanley, Alice Yang.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
